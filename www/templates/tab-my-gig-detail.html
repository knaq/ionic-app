<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="{{myGigDetail.myGigData.title}}">
  <ion-nav-bar class="bar-positive">
    <ion-nav-back-button></ion-nav-back-button>
  </ion-nav-bar>
  <ion-content>
    <img ng-src="{{myGigDetail.myGigData.photo}}" style="width: 64px; height: 64px">
    <p>
      {{myGigDetail.myGigData.description}}
    </p>

    <div class="padding data-loader" ng-show="myGigDetail.loadingData==true">
      <ion-spinner icon="ripple"></ion-spinner>
    </div>
    <div class="list" ng-show="myGigDetail.myParentState=='myposts'">

      <div class="item item-divider">
        Applicants
      </div>

      <div class="padding message" ng-show="myGigDetail.allApplicants.length == 0 || myGigDetail.allApplicants == null">
        <p>
          There is no applicant for this position at this moment.
        </p>
      </div>

      <a class="item item-avatar" ng-repeat="applicant in myGigDetail.allApplicants" ng-click="myGigDetail.reviewApplicant(applicant.$id)">
        <img src="../img/adam.jpg">
        <h2>{{applicant.username}}</h2>
        <p>{{applicant.email}}</p>
      </a>


    </div>
    
    <div class="padding">
      <button class="button button-block button-assertive" ng-show="myGigDetail.myParentState=='inprogress'" ng-click="myGigDetail.drop()">
        Drop
      </button>
      <button class="button button-block button-assertive" ng-show="myGigDetail.myParentState=='applied'" ng-click="myGigDetail.unapply()">
        Withdraw Application
      </button>
      <button class="button button-block button-assertive" ng-show="myGigDetail.myParentState=='myposts'" ng-click="myGigDetail.delete()">
        Delete
      </button>
    </div>
    
  </ion-content>
</ion-view>